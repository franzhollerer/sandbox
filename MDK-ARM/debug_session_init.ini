
/* Debugger initialization file. */

/* The application uses a software reset to enter the bootloader. */
/* The bootloader checks the RCC_CSR:SFTRSTF to see if a hardware or */
/* software reset has occurred. In the first case the bootloader */
/* initializes boot_data with 0. */

/* Unfortunately when the firmware is loaded via debugger the */
/* RCC_CSR:STFRSTF is set and the bootloader will not initialize */
/* boot_data. */

/* Therefore we write a 1 to RCC_CSR:RMVF which clears all reset flags */
/* when we start the firmware via debugger. */

E INT 0x40021024 = 0x01000000   /* RCC_CSR:RMVF = 1 */


/* If the debugger is configured correctly this performs an hardware */
/* reset and (only) RCC_CSR:PINRSTF is set afterwards. */
RESET
